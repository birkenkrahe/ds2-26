#+TITLE:Getting Started with Colab (and Python)
#+AUTHOR:Marcus Birkenkrahe (pledged) with ChatGPT
#+SUBTITLE:DSC 205 (Introduction to Advanced Data Science), Lyon College Spring 2026
#+STARTUP: overview hideblocks indent
#+OPTIONS: toc:nil num:nil ^:nil
#+PROPERTY: header-args:R :session *R* :results output :exports both :noweb yes
#+PROPERTY: header-args:python :session *Python* :results output :exports both :noweb yes
#+PROPERTY: header-args:C :main yes :includes <stdio.h> :results output :exports both :noweb yes
#+PROPERTY: header-args:C++ :main yes :includes <iostream> :results output :exports both :noweb yes
#+STARTUP: overview hideblocks indent entitiespretty:
#+OPTIONS: toc:nil num:nil ^:nil:
* Getting started with Colab and Python
* Objectives

Let's make a simple plot with Python in Colab and learn a few things
about Python along the way.

1) Logon to your Lyon Google account.
2) Open ~colab.research.google.com~.
3) Create a ~New notebook~.
4) Import ~pandas~ library for data frame manipulation.
5) Download the ~Iris~ dataset from Kaggle.
6) Load dataset into a ~pandas~ ~DataFrame~.
7) Include exception handling with ~try~ ~except~.
8) Explore the dataset
9) Create a simple plot
10) Summarize and check your understanding

* Import ~pandas~ library

- Import ~pandas~ library for data frame manipulation.
  #+begin_src python :results none :exports both :session *Python* :python python3
    import pandas as pd
  #+end_src

- To check that the library is loaded, there is no single command like
  ~search()~ in R. Instead, use the ~sys~ library to print the ~.keys(~)~ of
  the loaded ~sys.modules~:
  #+begin_src python :results output :exports both :session *Python* :python python3
    import sys
    print(sorted(sys.modules))
    print(any("pandas" in m for m in sys.modules))
  #+end_src

  #+RESULTS:
  : ['Cython', 'Cython.Compiler', 'Cython.Compiler.Version', 'Cython.Shadow', 'PIL', 'PIL.BmpImagePlugin', 'PIL.ExifTags', 'PIL.GifImagePlugin', 'PIL.GimpGradientFile', 'PIL.GimpPaletteFile', 'PIL.Image', 'PIL.ImageChops', 'PIL.ImageColor', 'PIL.ImageFile', 'PIL.ImageMath', 'PIL.ImageMode', 'PIL.ImageOps', 'PIL.ImagePalette', 'PIL.ImageSequence', 'PIL.JpegImagePlugin', 'PIL.JpegPresets', 'PIL.PaletteFile', 'PIL.PngImagePlugin', 'PIL.PpmImagePlugin', 'PIL.TiffTags', 'PIL._binary', 'PIL._deprecate', 'PIL._imaging', 'PIL._imagingmath', 'PIL._typing', 'PIL._util', 'PIL._version', '__future__', '__main__', '_abc', '_ast', '_bisect', '_blake2', '_bz2', '_codecs', '_collections', '_collections_abc', '_compat_pickle', '_compression', '_contextvars', '_csparsetools', '_csv', '_ctypes', '_cython_3_0_10', '_cython_3_0_11', '_cython_3_0_12', '_datetime', '_decimal', '_elementtree', '_frozen_importlib', '_frozen_importlib_external', '_functools', '_hashlib', '_heapq', '_imp', '_io', '_json', '_locale', '_lzma', '_moduleTNC', '_multibytecodec', '_ni_label', '_opcode', '_operator', '_pickle', '_posixsubprocess', '_random', '_sha512', '_signal', '_sitebuiltins', '_socket', '_sre', '_ssl', '_stat', '_statistics', '_string', '_strptime', '_struct', '_sysconfigdata__x86_64-linux-gnu', '_thread', '_uuid', '_warnings', '_weakref', '_weakrefset', '_zoneinfo', 'abc', 'apport', 'apport.fileutils', 'apport.hookutils', 'apport.packaging', 'apport.packaging_impl', 'apport.report', 'apport_python_hook', 'apt', 'apt.cache', 'apt.cdrom', 'apt.package', 'apt.progress', 'apt.progress.base', 'apt.progress.text', 'apt_pkg', 'argparse', 'array', 'ast', 'atexit', 'base64', 'binascii', 'bisect', 'builtins', 'bz2', 'cairo', 'cairo._cairo', 'calendar', 'cffi', 'cffi.api', 'cffi.error', 'cffi.lock', 'cffi.model', 'charset_normalizer', 'charset_normalizer.api', 'charset_normalizer.cd', 'charset_normalizer.constant', 'charset_normalizer.legacy', 'charset_normalizer.md', 'charset_normalizer.md__mypyc', 'charset_normalizer.models', 'charset_normalizer.utils', 'charset_normalizer.version', 'cmath', 'codecs', 'collections', 'collections.abc', 'colorsys', 'configparser', 'contextlib', 'contextvars', 'copy', 'copyreg', 'csv', 'ctypes', 'ctypes._endian', 'cycler', 'cython', 'cython.cimports', 'cython.cimports.libc', 'cython.cimports.libc.math', 'cython.dataclasses', 'cython.parallel', 'cython_runtime', 'dataclasses', 'datetime', 'dateutil', 'dateutil._common', 'dateutil._version', 'dateutil.parser', 'dateutil.parser._parser', 'dateutil.parser.isoparser', 'dateutil.relativedelta', 'dateutil.rrule', 'dateutil.tz', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.tz', 'decimal', 'defusedxml', 'defusedxml.ElementTree', 'defusedxml.common', 'difflib', 'dis', 'email', 'email._encoded_words', 'email._header_value_parser', 'email._parseaddr', 'email._policybase', 'email.base64mime', 'email.charset', 'email.contentmanager', 'email.encoders', 'email.errors', 'email.feedparser', 'email.header', 'email.headerregistry', 'email.iterators', 'email.message', 'email.mime', 'email.mime.base', 'email.mime.multipart', 'email.mime.nonmultipart', 'email.mime.text', 'email.parser', 'email.policy', 'email.quoprimime', 'email.utils', 'encodings', 'encodings.aliases', 'encodings.idna', 'encodings.latin_1', 'encodings.utf_8', 'enum', 'errno', 'fcntl', 'fileinput', 'fnmatch', 'fractions', 'functools', 'gc', 'genericpath', 'gettext', 'gi', 'gi._constants', 'gi._error', 'gi._gi', 'gi._gi_cairo', 'gi._gobject', 'gi._gtktemplate', 'gi._option', 'gi._ossighelper', 'gi._propertyhelper', 'gi._signalhelper', 'gi.docstring', 'gi.importer', 'gi.module', 'gi.overrides', 'gi.overrides.GLib', 'gi.overrides.GObject', 'gi.overrides.Gdk', 'gi.overrides.GdkPixbuf', 'gi.overrides.Gio', 'gi.overrides.Gtk', 'gi.overrides.Pango', 'gi.repository', 'gi.repository.GLib', 'gi.repository.GModule', 'gi.repository.GObject', 'gi.repository.Gdk', 'gi.repository.GdkPixbuf', 'gi.repository.GdkX11', 'gi.repository.Gio', 'gi.repository.Graphene', 'gi.repository.Gsk', 'gi.repository.Gtk', 'gi.repository.HarfBuzz', 'gi.repository.Pango', 'gi.repository.PangoCairo', 'gi.repository.cairo', 'gi.repository.xlib', 'gi.types', 'gio', 'glib', 'glob', 'gobject', 'grp', 'gtk', 'gtk.gdk', 'gzip', 'hashlib', 'heapq', 'hmac', 'http', 'http.client', 'importlib', 'importlib._abc', 'importlib._adapters', 'importlib._bootstrap', 'importlib._bootstrap_external', 'importlib._common', 'importlib.abc', 'importlib.machinery', 'importlib.metadata', 'importlib.metadata._adapters', 'importlib.metadata._collections', 'importlib.metadata._functools', 'importlib.metadata._itertools', 'importlib.metadata._meta', 'importlib.metadata._text', 'importlib.readers', 'importlib.resources', 'importlib.util', 'inspect', 'io', 'ipaddress', 'itertools', 'json', 'json.decoder', 'json.encoder', 'json.scanner', 'keyword', 'kiwisolver', 'kiwisolver._cext', 'kiwisolver.exceptions', 'linecache', 'locale', 'logging', 'lzma', 'marshal', 'math', 'matplotlib', 'matplotlib._afm', 'matplotlib._api', 'matplotlib._api.deprecation', 'matplotlib._blocking_input', 'matplotlib._c_internal_utils', 'matplotlib._cm', 'matplotlib._cm_listed', 'matplotlib._color_data', 'matplotlib._constrained_layout', 'matplotlib._docstring', 'matplotlib._enums', 'matplotlib._fontconfig_pattern', 'matplotlib._image', 'matplotlib._layoutgrid', 'matplotlib._mathtext', 'matplotlib._mathtext_data', 'matplotlib._path', 'matplotlib._pylab_helpers', 'matplotlib._text_helpers', 'matplotlib._tight_bbox', 'matplotlib._tight_layout', 'matplotlib._version', 'matplotlib.artist', 'matplotlib.axes', 'matplotlib.axes._axes', 'matplotlib.axes._base', 'matplotlib.axes._secondary_axes', 'matplotlib.axis', 'matplotlib.backend_bases', 'matplotlib.backend_managers', 'matplotlib.backend_tools', 'matplotlib.backends', 'matplotlib.backends._backend_agg', 'matplotlib.backends._backend_gtk', 'matplotlib.backends.backend_agg', 'matplotlib.backends.backend_gtk4', 'matplotlib.backends.backend_gtk4agg', 'matplotlib.backends.registry', 'matplotlib.bezier', 'matplotlib.category', 'matplotlib.cbook', 'matplotlib.cm', 'matplotlib.collections', 'matplotlib.colorbar', 'matplotlib.colors', 'matplotlib.container', 'matplotlib.contour', 'matplotlib.dates', 'matplotlib.dviread', 'matplotlib.figure', 'matplotlib.font_manager', 'matplotlib.ft2font', 'matplotlib.gridspec', 'matplotlib.hatch', 'matplotlib.image', 'matplotlib.layout_engine', 'matplotlib.legend', 'matplotlib.legend_handler', 'matplotlib.lines', 'matplotlib.markers', 'matplotlib.mathtext', 'matplotlib.mlab', 'matplotlib.offsetbox', 'matplotlib.patches', 'matplotlib.path', 'matplotlib.projections', 'matplotlib.projections.geo', 'matplotlib.projections.polar', 'matplotlib.pyplot', 'matplotlib.quiver', 'matplotlib.rcsetup', 'matplotlib.scale', 'matplotlib.spines', 'matplotlib.stackplot', 'matplotlib.streamplot', 'matplotlib.style', 'matplotlib.style.core', 'matplotlib.table', 'matplotlib.texmanager', 'matplotlib.text', 'matplotlib.textpath', 'matplotlib.ticker', 'matplotlib.transforms', 'matplotlib.tri', 'matplotlib.tri._triangulation', 'matplotlib.tri._tricontour', 'matplotlib.tri._trifinder', 'matplotlib.tri._triinterpolate', 'matplotlib.tri._tripcolor', 'matplotlib.tri._triplot', 'matplotlib.tri._trirefine', 'matplotlib.tri._tritools', 'matplotlib.units', 'matplotlib.widgets', 'mmap', 'mpl_toolkits', 'mpl_toolkits.mplot3d', 'mpl_toolkits.mplot3d.art3d', 'mpl_toolkits.mplot3d.axes3d', 'mpl_toolkits.mplot3d.axis3d', 'mpl_toolkits.mplot3d.proj3d', 'ntpath', 'numbers', 'numpy', 'numpy.__config__', 'numpy._core', 'numpy._core._add_newdocs', 'numpy._core._add_newdocs_scalars', 'numpy._core._asarray', 'numpy._core._dtype', 'numpy._core._dtype_ctypes', 'numpy._core._exceptions', 'numpy._core._internal', 'numpy._core._machar', 'numpy._core._methods', 'numpy._core._multiarray_tests', 'numpy._core._multiarray_umath', 'numpy._core._string_helpers', 'numpy._core._type_aliases', 'numpy._core._ufunc_config', 'numpy._core.arrayprint', 'numpy._core.defchararray', 'numpy._core.einsumfunc', 'numpy._core.fromnumeric', 'numpy._core.function_base', 'numpy._core.getlimits', 'numpy._core.memmap', 'numpy._core.multiarray', 'numpy._core.numeric', 'numpy._core.numerictypes', 'numpy._core.overrides', 'numpy._core.records', 'numpy._core.shape_base', 'numpy._core.strings', 'numpy._core.umath', 'numpy._distributor_init', 'numpy._expired_attrs_2_0', 'numpy._globals', 'numpy._pytesttester', 'numpy._typing', 'numpy._typing._add_docstring', 'numpy._typing._array_like', 'numpy._typing._char_codes', 'numpy._typing._dtype_like', 'numpy._typing._nbit', 'numpy._typing._nested_sequence', 'numpy._typing._scalars', 'numpy._typing._shape', 'numpy._utils', 'numpy._utils._convertions', 'numpy._utils._inspect', 'numpy.char', 'numpy.core', 'numpy.core._utils', 'numpy.ctypeslib', 'numpy.dtypes', 'numpy.exceptions', 'numpy.f2py', 'numpy.f2py.__version__', 'numpy.f2py._backends', 'numpy.f2py._isocbind', 'numpy.f2py.auxfuncs', 'numpy.f2py.capi_maps', 'numpy.f2py.cb_rules', 'numpy.f2py.cfuncs', 'numpy.f2py.common_rules', 'numpy.f2py.crackfortran', 'numpy.f2py.diagnose', 'numpy.f2py.f2py2e', 'numpy.f2py.f90mod_rules', 'numpy.f2py.func2subr', 'numpy.f2py.rules', 'numpy.f2py.symbolic', 'numpy.f2py.use_rules', 'numpy.fft', 'numpy.fft._helper', 'numpy.fft._pocketfft', 'numpy.fft._pocketfft_umath', 'numpy.fft.helper', 'numpy.lib', 'numpy.lib._array_utils_impl', 'numpy.lib._arraypad_impl', 'numpy.lib._arraysetops_impl', 'numpy.lib._arrayterator_impl', 'numpy.lib._datasource', 'numpy.lib._function_base_impl', 'numpy.lib._histograms_impl', 'numpy.lib._index_tricks_impl', 'numpy.lib._iotools', 'numpy.lib._nanfunctions_impl', 'numpy.lib._npyio_impl', 'numpy.lib._polynomial_impl', 'numpy.lib._scimath_impl', 'numpy.lib._shape_base_impl', 'numpy.lib._stride_tricks_impl', 'numpy.lib._twodim_base_impl', 'numpy.lib._type_check_impl', 'numpy.lib._ufunclike_impl', 'numpy.lib._utils_impl', 'numpy.lib._version', 'numpy.lib.array_utils', 'numpy.lib.format', 'numpy.lib.introspect', 'numpy.lib.mixins', 'numpy.lib.npyio', 'numpy.lib.scimath', 'numpy.lib.stride_tricks', 'numpy.linalg', 'numpy.linalg._linalg', 'numpy.linalg._umath_linalg', 'numpy.linalg.linalg', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.polynomial', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.polynomial.legendre', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.random', 'numpy.random._bounded_integers', 'numpy.random._common', 'numpy.random._generator', 'numpy.random._mt19937', 'numpy.random._pcg64', 'numpy.random._philox', 'numpy.random._pickle', 'numpy.random._sfc64', 'numpy.random.bit_generator', 'numpy.random.mtrand', 'numpy.rec', 'numpy.strings', 'numpy.testing', 'numpy.testing._private', 'numpy.testing._private.extbuild', 'numpy.testing._private.utils', 'numpy.testing.overrides', 'numpy.typing', 'numpy.version', 'opcode', 'operator', 'optparse', 'os', 'os.path', 'packaging', 'packaging._structures', 'packaging.version', 'pandas', 'pandas._config', 'pandas._config.config', 'pandas._config.dates', 'pandas._config.display', 'pandas._config.localization', 'pandas._libs', 'pandas._libs.algos', 'pandas._libs.arrays', 'pandas._libs.groupby', 'pandas._libs.hashing', 'pandas._libs.hashtable', 'pandas._libs.index', 'pandas._libs.indexing', 'pandas._libs.internals', 'pandas._libs.interval', 'pandas._libs.join', 'pandas._libs.json', 'pandas._libs.lib', 'pandas._libs.missing', 'pandas._libs.ops', 'pandas._libs.ops_dispatch', 'pandas._libs.pandas_datetime', 'pandas._libs.pandas_parser', 'pandas._libs.parsers', 'pandas._libs.properties', 'pandas._libs.reshape', 'pandas._libs.sparse', 'pandas._libs.testing', 'pandas._libs.tslib', 'pandas._libs.tslibs', 'pandas._libs.tslibs.base', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.dtypes', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.nattype', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.tzconversion', 'pandas._libs.tslibs.vectorized', 'pandas._libs.window', 'pandas._libs.window.aggregations', 'pandas._libs.window.indexers', 'pandas._libs.writers', 'pandas._testing', 'pandas._testing._io', 'pandas._testing._warnings', 'pandas._testing.asserters', 'pandas._testing.compat', 'pandas._testing.contexts', 'pandas._typing', 'pandas._version_meson', 'pandas.api', 'pandas.api.extensions', 'pandas.api.indexers', 'pandas.api.interchange', 'pandas.api.types', 'pandas.api.typing', 'pandas.arrays', 'pandas.compat', 'pandas.compat._constants', 'pandas.compat._optional', 'pandas.compat.compressors', 'pandas.compat.numpy', 'pandas.compat.numpy.function', 'pandas.compat.pickle_compat', 'pandas.compat.pyarrow', 'pandas.core', 'pandas.core._numba', 'pandas.core._numba.executor', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.api', 'pandas.core.apply', 'pandas.core.array_algos', 'pandas.core.array_algos.datetimelike_accumulations', 'pandas.core.array_algos.masked_accumulations', 'pandas.core.array_algos.masked_reductions', 'pandas.core.array_algos.putmask', 'pandas.core.array_algos.quantile', 'pandas.core.array_algos.replace', 'pandas.core.array_algos.take', 'pandas.core.array_algos.transforms', 'pandas.core.arraylike', 'pandas.core.arrays', 'pandas.core.arrays._arrow_string_mixins', 'pandas.core.arrays._mixins', 'pandas.core.arrays._ranges', 'pandas.core.arrays._utils', 'pandas.core.arrays.arrow', 'pandas.core.arrays.arrow.accessors', 'pandas.core.arrays.arrow.array', 'pandas.core.arrays.base', 'pandas.core.arrays.boolean', 'pandas.core.arrays.categorical', 'pandas.core.arrays.datetimelike', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.floating', 'pandas.core.arrays.integer', 'pandas.core.arrays.interval', 'pandas.core.arrays.masked', 'pandas.core.arrays.numeric', 'pandas.core.arrays.numpy_', 'pandas.core.arrays.period', 'pandas.core.arrays.sparse', 'pandas.core.arrays.sparse.accessor', 'pandas.core.arrays.sparse.array', 'pandas.core.arrays.string_', 'pandas.core.arrays.string_arrow', 'pandas.core.arrays.timedeltas', 'pandas.core.base', 'pandas.core.common', 'pandas.core.computation', 'pandas.core.computation.align', 'pandas.core.computation.api', 'pandas.core.computation.check', 'pandas.core.computation.common', 'pandas.core.computation.engines', 'pandas.core.computation.eval', 'pandas.core.computation.expr', 'pandas.core.computation.expressions', 'pandas.core.computation.ops', 'pandas.core.computation.parsing', 'pandas.core.computation.pytables', 'pandas.core.computation.scope', 'pandas.core.config_init', 'pandas.core.construction', 'pandas.core.dtypes', 'pandas.core.dtypes.api', 'pandas.core.dtypes.astype', 'pandas.core.dtypes.base', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.common', 'pandas.core.dtypes.concat', 'pandas.core.dtypes.dtypes', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.inference', 'pandas.core.dtypes.missing', 'pandas.core.flags', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.groupby', 'pandas.core.groupby.base', 'pandas.core.groupby.categorical', 'pandas.core.groupby.generic', 'pandas.core.groupby.groupby', 'pandas.core.groupby.grouper', 'pandas.core.groupby.indexing', 'pandas.core.groupby.numba_', 'pandas.core.groupby.ops', 'pandas.core.indexers', 'pandas.core.indexers.objects', 'pandas.core.indexers.utils', 'pandas.core.indexes', 'pandas.core.indexes.accessors', 'pandas.core.indexes.api', 'pandas.core.indexes.base', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimelike', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.extension', 'pandas.core.indexes.frozen', 'pandas.core.indexes.interval', 'pandas.core.indexes.multi', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexes.timedeltas', 'pandas.core.indexing', 'pandas.core.interchange', 'pandas.core.interchange.dataframe_protocol', 'pandas.core.interchange.from_dataframe', 'pandas.core.interchange.utils', 'pandas.core.internals', 'pandas.core.internals.api', 'pandas.core.internals.array_manager', 'pandas.core.internals.base', 'pandas.core.internals.blocks', 'pandas.core.internals.concat', 'pandas.core.internals.construction', 'pandas.core.internals.managers', 'pandas.core.internals.ops', 'pandas.core.methods', 'pandas.core.methods.describe', 'pandas.core.methods.selectn', 'pandas.core.methods.to_dict', 'pandas.core.missing', 'pandas.core.nanops', 'pandas.core.ops', 'pandas.core.ops.array_ops', 'pandas.core.ops.common', 'pandas.core.ops.dispatch', 'pandas.core.ops.docstrings', 'pandas.core.ops.invalid', 'pandas.core.ops.mask_ops', 'pandas.core.ops.missing', 'pandas.core.resample', 'pandas.core.reshape', 'pandas.core.reshape.api', 'pandas.core.reshape.concat', 'pandas.core.reshape.encoding', 'pandas.core.reshape.melt', 'pandas.core.reshape.merge', 'pandas.core.reshape.pivot', 'pandas.core.reshape.tile', 'pandas.core.reshape.util', 'pandas.core.roperator', 'pandas.core.sample', 'pandas.core.series', 'pandas.core.shared_docs', 'pandas.core.sorting', 'pandas.core.strings', 'pandas.core.strings.accessor', 'pandas.core.strings.base', 'pandas.core.strings.object_array', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.tools.numeric', 'pandas.core.tools.timedeltas', 'pandas.core.tools.times', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas.core.util.numba_', 'pandas.core.window', 'pandas.core.window.common', 'pandas.core.window.doc', 'pandas.core.window.ewm', 'pandas.core.window.expanding', 'pandas.core.window.numba_', 'pandas.core.window.online', 'pandas.core.window.rolling', 'pandas.errors', 'pandas.io', 'pandas.io._util', 'pandas.io.api', 'pandas.io.clipboards', 'pandas.io.common', 'pandas.io.excel', 'pandas.io.excel._base', 'pandas.io.excel._calamine', 'pandas.io.excel._odfreader', 'pandas.io.excel._odswriter', 'pandas.io.excel._openpyxl', 'pandas.io.excel._pyxlsb', 'pandas.io.excel._util', 'pandas.io.excel._xlrd', 'pandas.io.excel._xlsxwriter', 'pandas.io.feather_format', 'pandas.io.formats', 'pandas.io.formats.console', 'pandas.io.formats.format', 'pandas.io.formats.info', 'pandas.io.formats.printing', 'pandas.io.formats.string', 'pandas.io.gbq', 'pandas.io.html', 'pandas.io.json', 'pandas.io.json._json', 'pandas.io.json._normalize', 'pandas.io.json._table_schema', 'pandas.io.orc', 'pandas.io.parquet', 'pandas.io.parsers', 'pandas.io.parsers.arrow_parser_wrapper', 'pandas.io.parsers.base_parser', 'pandas.io.parsers.c_parser_wrapper', 'pandas.io.parsers.python_parser', 'pandas.io.parsers.readers', 'pandas.io.pickle', 'pandas.io.pytables', 'pandas.io.sas', 'pandas.io.sas.sasreader', 'pandas.io.spss', 'pandas.io.sql', 'pandas.io.stata', 'pandas.io.xml', 'pandas.plotting', 'pandas.plotting._core', 'pandas.plotting._matplotlib', 'pandas.plotting._matplotlib.boxplot', 'pandas.plotting._matplotlib.converter', 'pandas.plotting._matplotlib.core', 'pandas.plotting._matplotlib.groupby', 'pandas.plotting._matplotlib.hist', 'pandas.plotting._matplotlib.misc', 'pandas.plotting._matplotlib.style', 'pandas.plotting._matplotlib.timeseries', 'pandas.plotting._matplotlib.tools', 'pandas.plotting._misc', 'pandas.testing', 'pandas.tseries', 'pandas.tseries.api', 'pandas.tseries.frequencies', 'pandas.tseries.offsets', 'pandas.util', 'pandas.util._decorators', 'pandas.util._exceptions', 'pandas.util._print_versions', 'pandas.util._tester', 'pandas.util._validators', 'pandas.util.version', 'pathlib', 'pickle', 'pkgutil', 'platform', 'plistlib', 'posix', 'posixpath', 'pprint', 'problem_report', 'pwd', 'pydoc', 'pyexpat', 'pyexpat.errors', 'pyexpat.model', 'pyparsing', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzfile', 'pytz.tzinfo', 'quopri', 'random', 're', 'readline', 'reprlib', 'rlcompleter', 'scipy', 'scipy.__config__', 'scipy._distributor_init', 'scipy._lib', 'scipy._lib._array_api', 'scipy._lib._bunch', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy._lib._disjoint_set', 'scipy._lib._docscrape', 'scipy._lib._elementwise_iterative_method', 'scipy._lib._finite_differences', 'scipy._lib._pep440', 'scipy._lib._testutils', 'scipy._lib._threadsafety', 'scipy._lib._uarray', 'scipy._lib._uarray._backend', 'scipy._lib._uarray._uarray', 'scipy._lib._util', 'scipy._lib.array_api_compat', 'scipy._lib.array_api_compat._internal', 'scipy._lib.array_api_compat.common', 'scipy._lib.array_api_compat.common._aliases', 'scipy._lib.array_api_compat.common._fft', 'scipy._lib.array_api_compat.common._helpers', 'scipy._lib.array_api_compat.common._linalg', 'scipy._lib.array_api_compat.numpy', 'scipy._lib.array_api_compat.numpy._aliases', 'scipy._lib.array_api_compat.numpy._info', 'scipy._lib.array_api_compat.numpy.fft', 'scipy._lib.array_api_compat.numpy.linalg', 'scipy._lib.array_api_extra', 'scipy._lib.array_api_extra._funcs', 'scipy._lib.decorator', 'scipy._lib.deprecation', 'scipy._lib.doccer', 'scipy._lib.messagestream', 'scipy._lib.uarray', 'scipy.cluster', 'scipy.cluster._hierarchy', 'scipy.cluster._optimal_leaf_ordering', 'scipy.cluster._vq', 'scipy.cluster.hierarchy', 'scipy.cluster.vq', 'scipy.constants', 'scipy.constants._codata', 'scipy.constants._constants', 'scipy.constants.codata', 'scipy.constants.constants', 'scipy.fft', 'scipy.fft._backend', 'scipy.fft._basic', 'scipy.fft._basic_backend', 'scipy.fft._fftlog', 'scipy.fft._fftlog_backend', 'scipy.fft._helper', 'scipy.fft._pocketfft', 'scipy.fft._pocketfft.basic', 'scipy.fft._pocketfft.helper', 'scipy.fft._pocketfft.pypocketfft', 'scipy.fft._pocketfft.realtransforms', 'scipy.fft._realtransforms', 'scipy.fft._realtransforms_backend', 'scipy.integrate', 'scipy.integrate._bvp', 'scipy.integrate._cubature', 'scipy.integrate._dop', 'scipy.integrate._ivp', 'scipy.integrate._ivp.base', 'scipy.integrate._ivp.bdf', 'scipy.integrate._ivp.common', 'scipy.integrate._ivp.dop853_coefficients', 'scipy.integrate._ivp.ivp', 'scipy.integrate._ivp.lsoda', 'scipy.integrate._ivp.radau', 'scipy.integrate._ivp.rk', 'scipy.integrate._lebedev', 'scipy.integrate._lsoda', 'scipy.integrate._ode', 'scipy.integrate._odepack', 'scipy.integrate._odepack_py', 'scipy.integrate._quad_vec', 'scipy.integrate._quadpack', 'scipy.integrate._quadpack_py', 'scipy.integrate._quadrature', 'scipy.integrate._rules', 'scipy.integrate._rules._base', 'scipy.integrate._rules._gauss_kronrod', 'scipy.integrate._rules._gauss_legendre', 'scipy.integrate._rules._genz_malik', 'scipy.integrate._tanhsinh', 'scipy.integrate._vode', 'scipy.integrate.dop', 'scipy.integrate.lsoda', 'scipy.integrate.odepack', 'scipy.integrate.quadpack', 'scipy.integrate.vode', 'scipy.interpolate', 'scipy.interpolate._bary_rational', 'scipy.interpolate._bspl', 'scipy.interpolate._bsplines', 'scipy.interpolate._cubic', 'scipy.interpolate._dfitpack', 'scipy.interpolate._dierckx', 'scipy.interpolate._fitpack', 'scipy.interpolate._fitpack2', 'scipy.interpolate._fitpack_impl', 'scipy.interpolate._fitpack_py', 'scipy.interpolate._fitpack_repro', 'scipy.interpolate._interpnd', 'scipy.interpolate._interpolate', 'scipy.interpolate._ndbspline', 'scipy.interpolate._ndgriddata', 'scipy.interpolate._pade', 'scipy.interpolate._polyint', 'scipy.interpolate._ppoly', 'scipy.interpolate._rbf', 'scipy.interpolate._rbfinterp', 'scipy.interpolate._rbfinterp_pythran', 'scipy.interpolate._rgi', 'scipy.interpolate._rgi_cython', 'scipy.interpolate.fitpack', 'scipy.interpolate.fitpack2', 'scipy.interpolate.interpnd', 'scipy.interpolate.interpolate', 'scipy.interpolate.ndgriddata', 'scipy.interpolate.polyint', 'scipy.interpolate.rbf', 'scipy.linalg', 'scipy.linalg._basic', 'scipy.linalg._cythonized_array_utils', 'scipy.linalg._decomp', 'scipy.linalg._decomp_cholesky', 'scipy.linalg._decomp_cossin', 'scipy.linalg._decomp_interpolative', 'scipy.linalg._decomp_ldl', 'scipy.linalg._decomp_lu', 'scipy.linalg._decomp_lu_cython', 'scipy.linalg._decomp_polar', 'scipy.linalg._decomp_qr', 'scipy.linalg._decomp_qz', 'scipy.linalg._decomp_schur', 'scipy.linalg._decomp_svd', 'scipy.linalg._decomp_update', 'scipy.linalg._expm_frechet', 'scipy.linalg._fblas', 'scipy.linalg._flapack', 'scipy.linalg._linalg_pythran', 'scipy.linalg._matfuncs', 'scipy.linalg._matfuncs_expm', 'scipy.linalg._matfuncs_sqrtm', 'scipy.linalg._matfuncs_sqrtm_triu', 'scipy.linalg._misc', 'scipy.linalg._procrustes', 'scipy.linalg._sketches', 'scipy.linalg._solve_toeplitz', 'scipy.linalg._solvers', 'scipy.linalg._special_matrices', 'scipy.linalg.basic', 'scipy.linalg.blas', 'scipy.linalg.cython_blas', 'scipy.linalg.cython_lapack', 'scipy.linalg.decomp', 'scipy.linalg.decomp_cholesky', 'scipy.linalg.decomp_lu', 'scipy.linalg.decomp_qr', 'scipy.linalg.decomp_schur', 'scipy.linalg.decomp_svd', 'scipy.linalg.interpolative', 'scipy.linalg.lapack', 'scipy.linalg.matfuncs', 'scipy.linalg.misc', 'scipy.linalg.special_matrices', 'scipy.ndimage', 'scipy.ndimage._delegators', 'scipy.ndimage._filters', 'scipy.ndimage._fourier', 'scipy.ndimage._interpolation', 'scipy.ndimage._measurements', 'scipy.ndimage._morphology', 'scipy.ndimage._nd_image', 'scipy.ndimage._ndimage_api', 'scipy.ndimage._ni_docstrings', 'scipy.ndimage._ni_label', 'scipy.ndimage._ni_support', 'scipy.ndimage._rank_filter_1d', 'scipy.ndimage._support_alternative_backends', 'scipy.ndimage.filters', 'scipy.ndimage.fourier', 'scipy.ndimage.interpolation', 'scipy.ndimage.measurements', 'scipy.ndimage.morphology', 'scipy.optimize', 'scipy.optimize._basinhopping', 'scipy.optimize._bglu_dense', 'scipy.optimize._bracket', 'scipy.optimize._chandrupatla', 'scipy.optimize._cobyla', 'scipy.optimize._cobyla_py', 'scipy.optimize._cobyqa_py', 'scipy.optimize._constraints', 'scipy.optimize._cython_nnls', 'scipy.optimize._dcsrch', 'scipy.optimize._differentiable_functions', 'scipy.optimize._differentialevolution', 'scipy.optimize._direct', 'scipy.optimize._direct_py', 'scipy.optimize._dual_annealing', 'scipy.optimize._group_columns', 'scipy.optimize._hessian_update_strategy', 'scipy.optimize._highspy', 'scipy.optimize._highspy._core', 'scipy.optimize._highspy._core.cb', 'scipy.optimize._highspy._core.simplex_constants', 'scipy.optimize._highspy._highs_options', 'scipy.optimize._highspy._highs_wrapper', 'scipy.optimize._isotonic', 'scipy.optimize._lbfgsb', 'scipy.optimize._lbfgsb_py', 'scipy.optimize._linesearch', 'scipy.optimize._linprog', 'scipy.optimize._linprog_doc', 'scipy.optimize._linprog_highs', 'scipy.optimize._linprog_ip', 'scipy.optimize._linprog_rs', 'scipy.optimize._linprog_simplex', 'scipy.optimize._linprog_util', 'scipy.optimize._lsap', 'scipy.optimize._lsq', 'scipy.optimize._lsq.bvls', 'scipy.optimize._lsq.common', 'scipy.optimize._lsq.dogbox', 'scipy.optimize._lsq.givens_elimination', 'scipy.optimize._lsq.least_squares', 'scipy.optimize._lsq.lsq_linear', 'scipy.optimize._lsq.trf', 'scipy.optimize._lsq.trf_linear', 'scipy.optimize._milp', 'scipy.optimize._minimize', 'scipy.optimize._minpack', 'scipy.optimize._minpack_py', 'scipy.optimize._moduleTNC', 'scipy.optimize._nnls', 'scipy.optimize._nonlin', 'scipy.optimize._numdiff', 'scipy.optimize._optimize', 'scipy.optimize._pava_pybind', 'scipy.optimize._qap', 'scipy.optimize._remove_redundancy', 'scipy.optimize._root', 'scipy.optimize._root_scalar', 'scipy.optimize._shgo', 'scipy.optimize._shgo_lib', 'scipy.optimize._shgo_lib._complex', 'scipy.optimize._shgo_lib._vertex', 'scipy.optimize._slsqp', 'scipy.optimize._slsqp_py', 'scipy.optimize._spectral', 'scipy.optimize._tnc', 'scipy.optimize._trlib', 'scipy.optimize._trlib._trlib', 'scipy.optimize._trustregion', 'scipy.optimize._trustregion_constr', 'scipy.optimize._trustregion_constr.canonical_constraint', 'scipy.optimize._trustregion_constr.equality_constrained_sqp', 'scipy.optimize._trustregion_constr.minimize_trustregion_constr', 'scipy.optimize._trustregion_constr.projections', 'scipy.optimize._trustregion_constr.qp_subproblem', 'scipy.optimize._trustregion_constr.report', 'scipy.optimize._trustregion_constr.tr_interior_point', 'scipy.optimize._trustregion_dogleg', 'scipy.optimize._trustregion_exact', 'scipy.optimize._trustregion_krylov', 'scipy.optimize._trustregion_ncg', 'scipy.optimize._zeros', 'scipy.optimize._zeros_py', 'scipy.optimize.cobyla', 'scipy.optimize.lbfgsb', 'scipy.optimize.linesearch', 'scipy.optimize.minpack', 'scipy.optimize.minpack2', 'scipy.optimize.moduleTNC', 'scipy.optimize.nonlin', 'scipy.optimize.optimize', 'scipy.optimize.slsqp', 'scipy.optimize.tnc', 'scipy.optimize.zeros', 'scipy.sparse', 'scipy.sparse._base', 'scipy.sparse._bsr', 'scipy.sparse._compressed', 'scipy.sparse._construct', 'scipy.sparse._coo', 'scipy.sparse._csc', 'scipy.sparse._csparsetools', 'scipy.sparse._csr', 'scipy.sparse._data', 'scipy.sparse._dia', 'scipy.sparse._dok', 'scipy.sparse._extract', 'scipy.sparse._index', 'scipy.sparse._lil', 'scipy.sparse._matrix', 'scipy.sparse._matrix_io', 'scipy.sparse._sparsetools', 'scipy.sparse._sputils', 'scipy.sparse.base', 'scipy.sparse.bsr', 'scipy.sparse.compressed', 'scipy.sparse.construct', 'scipy.sparse.coo', 'scipy.sparse.csc', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._flow', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._matching', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'scipy.sparse.csgraph._shortest_path', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csr', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.dok', 'scipy.sparse.extract', 'scipy.sparse.lil', 'scipy.sparse.linalg', 'scipy.sparse.linalg._dsolve', 'scipy.sparse.linalg._dsolve._add_newdocs', 'scipy.sparse.linalg._dsolve._superlu', 'scipy.sparse.linalg._dsolve.linsolve', 'scipy.sparse.linalg._eigen', 'scipy.sparse.linalg._eigen._svds', 'scipy.sparse.linalg._eigen.arpack', 'scipy.sparse.linalg._eigen.arpack._arpack', 'scipy.sparse.linalg._eigen.arpack.arpack', 'scipy.sparse.linalg._eigen.lobpcg', 'scipy.sparse.linalg._eigen.lobpcg.lobpcg', 'scipy.sparse.linalg._expm_multiply', 'scipy.sparse.linalg._interface', 'scipy.sparse.linalg._isolve', 'scipy.sparse.linalg._isolve._gcrotmk', 'scipy.sparse.linalg._isolve.iterative', 'scipy.sparse.linalg._isolve.lgmres', 'scipy.sparse.linalg._isolve.lsmr', 'scipy.sparse.linalg._isolve.lsqr', 'scipy.sparse.linalg._isolve.minres', 'scipy.sparse.linalg._isolve.tfqmr', 'scipy.sparse.linalg._isolve.utils', 'scipy.sparse.linalg._matfuncs', 'scipy.sparse.linalg._norm', 'scipy.sparse.linalg._onenormest', 'scipy.sparse.linalg._propack', 'scipy.sparse.linalg._propack._cpropack', 'scipy.sparse.linalg._propack._dpropack', 'scipy.sparse.linalg._propack._spropack', 'scipy.sparse.linalg._propack._zpropack', 'scipy.sparse.linalg._special_sparse_arrays', 'scipy.sparse.linalg._svdp', 'scipy.sparse.linalg.dsolve', 'scipy.sparse.linalg.eigen', 'scipy.sparse.linalg.interface', 'scipy.sparse.linalg.isolve', 'scipy.sparse.linalg.matfuncs', 'scipy.sparse.sparsetools', 'scipy.sparse.sputils', 'scipy.spatial', 'scipy.spatial._ckdtree', 'scipy.spatial._distance_pybind', 'scipy.spatial._distance_wrap', 'scipy.spatial._geometric_slerp', 'scipy.spatial._hausdorff', 'scipy.spatial._kdtree', 'scipy.spatial._plotutils', 'scipy.spatial._procrustes', 'scipy.spatial._qhull', 'scipy.spatial._spherical_voronoi', 'scipy.spatial._voronoi', 'scipy.spatial.ckdtree', 'scipy.spatial.distance', 'scipy.spatial.kdtree', 'scipy.spatial.qhull', 'scipy.spatial.transform', 'scipy.spatial.transform._rotation', 'scipy.spatial.transform._rotation_groups', 'scipy.spatial.transform._rotation_spline', 'scipy.spatial.transform.rotation', 'scipy.special', 'scipy.special._basic', 'scipy.special._comb', 'scipy.special._ellip_harm', 'scipy.special._ellip_harm_2', 'scipy.special._gufuncs', 'scipy.special._input_validation', 'scipy.special._lambertw', 'scipy.special._logsumexp', 'scipy.special._multiufuncs', 'scipy.special._orthogonal', 'scipy.special._sf_error', 'scipy.special._specfun', 'scipy.special._special_ufuncs', 'scipy.special._spfun_stats', 'scipy.special._spherical_bessel', 'scipy.special._support_alternative_backends', 'scipy.special._ufuncs', 'scipy.special._ufuncs_cxx', 'scipy.special.add_newdocs', 'scipy.special.basic', 'scipy.special.cython_special', 'scipy.special.orthogonal', 'scipy.special.sf_error', 'scipy.special.specfun', 'scipy.special.spfun_stats', 'scipy.stats', 'scipy.stats._ansari_swilk_statistics', 'scipy.stats._axis_nan_policy', 'scipy.stats._biasedurn', 'scipy.stats._binned_statistic', 'scipy.stats._binomtest', 'scipy.stats._bws_test', 'scipy.stats._censored_data', 'scipy.stats._common', 'scipy.stats._constants', 'scipy.stats._continuous_distns', 'scipy.stats._correlation', 'scipy.stats._covariance', 'scipy.stats._crosstab', 'scipy.stats._discrete_distns', 'scipy.stats._distn_infrastructure', 'scipy.stats._distr_params', 'scipy.stats._distribution_infrastructure', 'scipy.stats._entropy', 'scipy.stats._fit', 'scipy.stats._hypotests', 'scipy.stats._kde', 'scipy.stats._ksstats', 'scipy.stats._levy_stable', 'scipy.stats._levy_stable.levyst', 'scipy.stats._mannwhitneyu', 'scipy.stats._mgc', 'scipy.stats._morestats', 'scipy.stats._mstats_basic', 'scipy.stats._mstats_extras', 'scipy.stats._multicomp', 'scipy.stats._multivariate', 'scipy.stats._mvn', 'scipy.stats._new_distributions', 'scipy.stats._odds_ratio', 'scipy.stats._page_trend_test', 'scipy.stats._probability_distribution', 'scipy.stats._qmc', 'scipy.stats._qmc_cy', 'scipy.stats._qmvnt', 'scipy.stats._rcont', 'scipy.stats._rcont.rcont', 'scipy.stats._relative_risk', 'scipy.stats._resampling', 'scipy.stats._sensitivity_analysis', 'scipy.stats._sobol', 'scipy.stats._stats', 'scipy.stats._stats_mstats_common', 'scipy.stats._stats_py', 'scipy.stats._stats_pythran', 'scipy.stats._survival', 'scipy.stats._tukeylambda_stats', 'scipy.stats._variation', 'scipy.stats._warnings_errors', 'scipy.stats._wilcoxon', 'scipy.stats.biasedurn', 'scipy.stats.contingency', 'scipy.stats.distributions', 'scipy.stats.kde', 'scipy.stats.morestats', 'scipy.stats.mstats', 'scipy.stats.mstats_basic', 'scipy.stats.mstats_extras', 'scipy.stats.mvn', 'scipy.stats.qmc', 'scipy.stats.stats', 'scipy.version', 'seaborn', 'seaborn._base', 'seaborn._compat', 'seaborn._core', 'seaborn._core.data', 'seaborn._core.groupby', 'seaborn._core.rules', 'seaborn._core.scales', 'seaborn._core.typing', 'seaborn._docstrings', 'seaborn._statistics', 'seaborn._stats', 'seaborn._stats.base', 'seaborn._stats.counting', 'seaborn._stats.density', 'seaborn.algorithms', 'seaborn.axisgrid', 'seaborn.categorical', 'seaborn.cm', 'seaborn.colors', 'seaborn.colors.crayons', 'seaborn.colors.xkcd_rgb', 'seaborn.distributions', 'seaborn.external', 'seaborn.external.appdirs', 'seaborn.external.docscrape', 'seaborn.external.husl', 'seaborn.external.kde', 'seaborn.external.version', 'seaborn.matrix', 'seaborn.miscplot', 'seaborn.palettes', 'seaborn.rcmod', 'seaborn.regression', 'seaborn.relational', 'seaborn.utils', 'seaborn.widgets', 'secrets', 'select', 'selectors', 'shlex', 'shutil', 'signal', 'site', 'sitecustomize', 'six', 'six.moves', 'socket', 'sre_compile', 'sre_constants', 'sre_parse', 'ssl', 'stat', 'statistics', 'string', 'stringprep', 'struct', 'subprocess', 'sys', 'sysconfig', 'tarfile', 'tempfile', 'termios', 'textwrap', 'threading', 'time', 'token', 'tokenize', 'traceback', 'tty', 'types', 'typing', 'typing.io', 'typing.re', 'tzdata', 'unicodedata', 'unittest', 'unittest.case', 'unittest.loader', 'unittest.main', 'unittest.result', 'unittest.runner', 'unittest.signals', 'unittest.suite', 'unittest.util', 'urllib', 'urllib.error', 'urllib.parse', 'urllib.request', 'urllib.response', 'uu', 'uuid', 'warnings', 'weakref', 'xml', 'xml.dom', 'xml.dom.NodeFilter', 'xml.dom.domreg', 'xml.dom.minicompat', 'xml.dom.minidom', 'xml.dom.xmlbuilder', 'xml.etree', 'xml.etree.ElementPath', 'xml.etree.ElementTree', 'xml.parsers', 'xml.parsers.expat', 'xml.parsers.expat.errors', 'xml.parsers.expat.model', 'zipfile', 'zipimport', 'zlib', 'zoneinfo', 'zoneinfo._common', 'zoneinfo._tzpath']
  : True

- You can also check what names ~pandas~ put into your namespace (analog
  to ~data()~ in R):
  #+begin_src python :results output :exports both :session *Python* :python python3
    print(dir(pd))
  #+end_src

  #+RESULTS:
  : ['ArrowDtype', 'BooleanDtype', 'Categorical', 'CategoricalDtype', 'CategoricalIndex', 'DataFrame', 'DateOffset', 'DatetimeIndex', 'DatetimeTZDtype', 'ExcelFile', 'ExcelWriter', 'Flags', 'Float32Dtype', 'Float64Dtype', 'Grouper', 'HDFStore', 'Index', 'IndexSlice', 'Int16Dtype', 'Int32Dtype', 'Int64Dtype', 'Int8Dtype', 'Interval', 'IntervalDtype', 'IntervalIndex', 'MultiIndex', 'NA', 'NaT', 'NamedAgg', 'Period', 'PeriodDtype', 'PeriodIndex', 'RangeIndex', 'Series', 'SparseDtype', 'StringDtype', 'Timedelta', 'TimedeltaIndex', 'Timestamp', 'UInt16Dtype', 'UInt32Dtype', 'UInt64Dtype', 'UInt8Dtype', '__all__', '__builtins__', '__cached__', '__doc__', '__docformat__', '__file__', '__git_version__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_built_with_meson', '_config', '_is_numpy_dev', '_libs', '_pandas_datetime_CAPI', '_pandas_parser_CAPI', '_testing', '_typing', '_version_meson', 'annotations', 'api', 'array', 'arrays', 'bdate_range', 'compat', 'concat', 'core', 'crosstab', 'cut', 'date_range', 'describe_option', 'errors', 'eval', 'factorize', 'from_dummies', 'get_dummies', 'get_option', 'infer_freq', 'interval_range', 'io', 'isna', 'isnull', 'json_normalize', 'lreshape', 'melt', 'merge', 'merge_asof', 'merge_ordered', 'notna', 'notnull', 'offsets', 'option_context', 'options', 'pandas', 'period_range', 'pivot', 'pivot_table', 'plotting', 'qcut', 'read_clipboard', 'read_csv', 'read_excel', 'read_feather', 'read_fwf', 'read_gbq', 'read_hdf', 'read_html', 'read_json', 'read_orc', 'read_parquet', 'read_pickle', 'read_sas', 'read_spss', 'read_sql', 'read_sql_query', 'read_sql_table', 'read_stata', 'read_table', 'read_xml', 'reset_option', 'set_eng_float_format', 'set_option', 'show_versions', 'test', 'testing', 'timedelta_range', 'to_datetime', 'to_numeric', 'to_pickle', 'to_timedelta', 'tseries', 'unique', 'util', 'value_counts', 'wide_to_long']

- This is hard to check. You can filter over the printed data with a
  list comprehension:
  #+begin_src python :results output :exports both :session *Python* :python python3
    print(sorted([m for m in sys.modules if 'pandas' in m]))
  #+end_src

  #+RESULTS:
  : ['pandas', 'pandas._config', 'pandas._config.config', 'pandas._config.dates', 'pandas._config.display', 'pandas._config.localization', 'pandas._libs', 'pandas._libs.algos', 'pandas._libs.arrays', 'pandas._libs.groupby', 'pandas._libs.hashing', 'pandas._libs.hashtable', 'pandas._libs.index', 'pandas._libs.indexing', 'pandas._libs.internals', 'pandas._libs.interval', 'pandas._libs.join', 'pandas._libs.json', 'pandas._libs.lib', 'pandas._libs.missing', 'pandas._libs.ops', 'pandas._libs.ops_dispatch', 'pandas._libs.pandas_datetime', 'pandas._libs.pandas_parser', 'pandas._libs.parsers', 'pandas._libs.properties', 'pandas._libs.reshape', 'pandas._libs.sparse', 'pandas._libs.testing', 'pandas._libs.tslib', 'pandas._libs.tslibs', 'pandas._libs.tslibs.base', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.dtypes', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.nattype', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.tzconversion', 'pandas._libs.tslibs.vectorized', 'pandas._libs.window', 'pandas._libs.window.aggregations', 'pandas._libs.window.indexers', 'pandas._libs.writers', 'pandas._testing', 'pandas._testing._io', 'pandas._testing._warnings', 'pandas._testing.asserters', 'pandas._testing.compat', 'pandas._testing.contexts', 'pandas._typing', 'pandas._version_meson', 'pandas.api', 'pandas.api.extensions', 'pandas.api.indexers', 'pandas.api.interchange', 'pandas.api.types', 'pandas.api.typing', 'pandas.arrays', 'pandas.compat', 'pandas.compat._constants', 'pandas.compat._optional', 'pandas.compat.compressors', 'pandas.compat.numpy', 'pandas.compat.numpy.function', 'pandas.compat.pickle_compat', 'pandas.compat.pyarrow', 'pandas.core', 'pandas.core._numba', 'pandas.core._numba.executor', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.api', 'pandas.core.apply', 'pandas.core.array_algos', 'pandas.core.array_algos.datetimelike_accumulations', 'pandas.core.array_algos.masked_accumulations', 'pandas.core.array_algos.masked_reductions', 'pandas.core.array_algos.putmask', 'pandas.core.array_algos.quantile', 'pandas.core.array_algos.replace', 'pandas.core.array_algos.take', 'pandas.core.array_algos.transforms', 'pandas.core.arraylike', 'pandas.core.arrays', 'pandas.core.arrays._arrow_string_mixins', 'pandas.core.arrays._mixins', 'pandas.core.arrays._ranges', 'pandas.core.arrays._utils', 'pandas.core.arrays.arrow', 'pandas.core.arrays.arrow.accessors', 'pandas.core.arrays.arrow.array', 'pandas.core.arrays.base', 'pandas.core.arrays.boolean', 'pandas.core.arrays.categorical', 'pandas.core.arrays.datetimelike', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.floating', 'pandas.core.arrays.integer', 'pandas.core.arrays.interval', 'pandas.core.arrays.masked', 'pandas.core.arrays.numeric', 'pandas.core.arrays.numpy_', 'pandas.core.arrays.period', 'pandas.core.arrays.sparse', 'pandas.core.arrays.sparse.accessor', 'pandas.core.arrays.sparse.array', 'pandas.core.arrays.string_', 'pandas.core.arrays.string_arrow', 'pandas.core.arrays.timedeltas', 'pandas.core.base', 'pandas.core.common', 'pandas.core.computation', 'pandas.core.computation.align', 'pandas.core.computation.api', 'pandas.core.computation.check', 'pandas.core.computation.common', 'pandas.core.computation.engines', 'pandas.core.computation.eval', 'pandas.core.computation.expr', 'pandas.core.computation.expressions', 'pandas.core.computation.ops', 'pandas.core.computation.parsing', 'pandas.core.computation.pytables', 'pandas.core.computation.scope', 'pandas.core.config_init', 'pandas.core.construction', 'pandas.core.dtypes', 'pandas.core.dtypes.api', 'pandas.core.dtypes.astype', 'pandas.core.dtypes.base', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.common', 'pandas.core.dtypes.concat', 'pandas.core.dtypes.dtypes', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.inference', 'pandas.core.dtypes.missing', 'pandas.core.flags', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.groupby', 'pandas.core.groupby.base', 'pandas.core.groupby.categorical', 'pandas.core.groupby.generic', 'pandas.core.groupby.groupby', 'pandas.core.groupby.grouper', 'pandas.core.groupby.indexing', 'pandas.core.groupby.numba_', 'pandas.core.groupby.ops', 'pandas.core.indexers', 'pandas.core.indexers.objects', 'pandas.core.indexers.utils', 'pandas.core.indexes', 'pandas.core.indexes.accessors', 'pandas.core.indexes.api', 'pandas.core.indexes.base', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimelike', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.extension', 'pandas.core.indexes.frozen', 'pandas.core.indexes.interval', 'pandas.core.indexes.multi', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexes.timedeltas', 'pandas.core.indexing', 'pandas.core.interchange', 'pandas.core.interchange.dataframe_protocol', 'pandas.core.interchange.from_dataframe', 'pandas.core.interchange.utils', 'pandas.core.internals', 'pandas.core.internals.api', 'pandas.core.internals.array_manager', 'pandas.core.internals.base', 'pandas.core.internals.blocks', 'pandas.core.internals.concat', 'pandas.core.internals.construction', 'pandas.core.internals.managers', 'pandas.core.internals.ops', 'pandas.core.methods', 'pandas.core.methods.describe', 'pandas.core.methods.selectn', 'pandas.core.methods.to_dict', 'pandas.core.missing', 'pandas.core.nanops', 'pandas.core.ops', 'pandas.core.ops.array_ops', 'pandas.core.ops.common', 'pandas.core.ops.dispatch', 'pandas.core.ops.docstrings', 'pandas.core.ops.invalid', 'pandas.core.ops.mask_ops', 'pandas.core.ops.missing', 'pandas.core.resample', 'pandas.core.reshape', 'pandas.core.reshape.api', 'pandas.core.reshape.concat', 'pandas.core.reshape.encoding', 'pandas.core.reshape.melt', 'pandas.core.reshape.merge', 'pandas.core.reshape.pivot', 'pandas.core.reshape.tile', 'pandas.core.reshape.util', 'pandas.core.roperator', 'pandas.core.sample', 'pandas.core.series', 'pandas.core.shared_docs', 'pandas.core.sorting', 'pandas.core.strings', 'pandas.core.strings.accessor', 'pandas.core.strings.base', 'pandas.core.strings.object_array', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.tools.numeric', 'pandas.core.tools.timedeltas', 'pandas.core.tools.times', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas.core.util.numba_', 'pandas.core.window', 'pandas.core.window.common', 'pandas.core.window.doc', 'pandas.core.window.ewm', 'pandas.core.window.expanding', 'pandas.core.window.numba_', 'pandas.core.window.online', 'pandas.core.window.rolling', 'pandas.errors', 'pandas.io', 'pandas.io._util', 'pandas.io.api', 'pandas.io.clipboards', 'pandas.io.common', 'pandas.io.excel', 'pandas.io.excel._base', 'pandas.io.excel._calamine', 'pandas.io.excel._odfreader', 'pandas.io.excel._odswriter', 'pandas.io.excel._openpyxl', 'pandas.io.excel._pyxlsb', 'pandas.io.excel._util', 'pandas.io.excel._xlrd', 'pandas.io.excel._xlsxwriter', 'pandas.io.feather_format', 'pandas.io.formats', 'pandas.io.formats.console', 'pandas.io.formats.format', 'pandas.io.formats.info', 'pandas.io.formats.printing', 'pandas.io.formats.string', 'pandas.io.gbq', 'pandas.io.html', 'pandas.io.json', 'pandas.io.json._json', 'pandas.io.json._normalize', 'pandas.io.json._table_schema', 'pandas.io.orc', 'pandas.io.parquet', 'pandas.io.parsers', 'pandas.io.parsers.arrow_parser_wrapper', 'pandas.io.parsers.base_parser', 'pandas.io.parsers.c_parser_wrapper', 'pandas.io.parsers.python_parser', 'pandas.io.parsers.readers', 'pandas.io.pickle', 'pandas.io.pytables', 'pandas.io.sas', 'pandas.io.sas.sasreader', 'pandas.io.spss', 'pandas.io.sql', 'pandas.io.stata', 'pandas.io.xml', 'pandas.plotting', 'pandas.plotting._core', 'pandas.plotting._matplotlib', 'pandas.plotting._matplotlib.boxplot', 'pandas.plotting._matplotlib.converter', 'pandas.plotting._matplotlib.core', 'pandas.plotting._matplotlib.groupby', 'pandas.plotting._matplotlib.hist', 'pandas.plotting._matplotlib.misc', 'pandas.plotting._matplotlib.style', 'pandas.plotting._matplotlib.timeseries', 'pandas.plotting._matplotlib.tools', 'pandas.plotting._misc', 'pandas.testing', 'pandas.tseries', 'pandas.tseries.api', 'pandas.tseries.frequencies', 'pandas.tseries.offsets', 'pandas.util', 'pandas.util._decorators', 'pandas.util._exceptions', 'pandas.util._print_versions', 'pandas.util._tester', 'pandas.util._validators', 'pandas.util.version']

* Download CSV data from =kaggle.com= into a ~DataFrame~

- Download the ~Iris~ dataset from Kaggle.

  The ~Iris~ dataset is a classic for introductory machine learning and
  data science. You can download it directly from a URL - I have
  saved the long address in a tinyurl:
  #+begin_src python :results none :exports both :session *Python* :python python3
    data_url = 'https://tinyurl.com/iris-data-csv' # raw csv data
  #+end_src

- Load dataset into a ~pandas~ ~DataFrame~.

  The quickest way to load the CSV data from the web into a dataframe
  is just like in R: =read_csv(data_url)= except that ~read_csv()~ is not
  built-in but in ~pandas~ (aliased to =pd=), so to find it, you need to
  run =pd.read_csv(data_url)=.

- Include exception handling with ~try~ ~except~: When interacting with
  the web, you always want to handle potential exceptions - e.g. data
  not available or corrupted, because of link or network errors.

  #+begin_src python :results output :exports both :session *Python* :python python3
    try:
        df = pd.read_csv(data_url)
        print("Dataset downloaded and loaded successfully!")
    except Exception as e:
        print(f"Error loading dataset: {e}")
        print("Please check your internet connection or the URL.")
  #+end_src

  #+RESULTS:
  : Dataset downloaded and loaded successfully!

- The statement =print(f"Error loading dataset: {e}")= contains a
  so-called `f-string`, a formatted string that allows you to print
  variables inside strings.

- ~Exception~ is a class of several different exceptions, errors and
  warnings that can occur, [[https://docs.python.org/3/library/exceptions.html][see here]] for the full list.

* Exploring the data

- Just like in R, you can look at the whole dataset. Python is a
  little more careful here (analogous to printing "tibbles" in R):

  #+begin_src python :results output :exports both :session *Python* :python python3
    print(df)
  #+end_src

  #+RESULTS:
  #+begin_example
       sepal_length  sepal_width  petal_length  petal_width    species
  0             5.1          3.5           1.4          0.2     setosa
  1             4.9          3.0           1.4          0.2     setosa
  2             4.7          3.2           1.3          0.2     setosa
  3             4.6          3.1           1.5          0.2     setosa
  4             5.0          3.6           1.4          0.2     setosa
  ..            ...          ...           ...          ...        ...
  145           6.7          3.0           5.2          2.3  virginica
  146           6.3          2.5           5.0          1.9  virginica
  147           6.5          3.0           5.2          2.0  virginica
  148           6.2          3.4           5.4          2.3  virginica
  149           5.9          3.0           5.1          1.8  virginica

  [150 rows x 5 columns]
  #+end_example

- The ~head()~ function exists, too, if you only want to see the first
  few rows:

  #+begin_src python :results output :exports both :session *Python* :python python3
    print(df.head())
  #+end_src

  #+RESULTS:
  :    sepal_length  sepal_width  petal_length  petal_width species
  : 0           5.1          3.5           1.4          0.2  setosa
  : 1           4.9          3.0           1.4          0.2  setosa
  : 2           4.7          3.2           1.3          0.2  setosa
  : 3           4.6          3.1           1.5          0.2  setosa
  : 4           5.0          3.6           1.4          0.2  setosa

- Notice how the computer knows to apply ~head~ to =df=.

- Again, there is a safe way to do this that checks if the ~DataFrame~
  is actually loaded and available as a local variable in
  ~locals()~. This is Python's equivalent for ~ls()~.

  #+begin_src python :results output :exports both :session *Python* :python python3
    print(locals())
  #+end_src

  #+RESULTS:
  #+begin_example
  {'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': <class '_frozen_importlib.BuiltinImporter'>, '__spec__': None, '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, 'tty': <module 'tty' from '/usr/lib/python3.10/tty.py'>, '__PYTHON_EL_eval': <function __PYTHON_EL_eval at 0x79b0c70f1a20>, '__PYTHON_EL_eval_file': <function __PYTHON_EL_eval_file at 0x79b0c70f1bd0>, 'readline': <module 'readline' from '/usr/lib/python3.10/lib-dynload/readline.cpython-310-x86_64-linux-gnu.so'>, '__org_babel_python_format_value': <function __org_babel_python_format_value at 0x79b0c70f1c60>, '__PYTHON_EL_native_completion_setup': <function __PYTHON_EL_native_completion_setup at 0x79b0c70f1cf0>, 'f': <_io.TextIOWrapper name='/tmp/babel-Dl2Brz/python-kms9Oy' mode='r' encoding='UTF-8'>, 'pd': <module 'pandas' from '/home/aletheia/.local/lib/python3.10/site-packages/pandas/__init__.py'>, 'plt': <module 'matplotlib.pyplot' from '/home/aletheia/.local/lib/python3.10/site-packages/matplotlib/pyplot.py'>, 'sys': <module 'sys' (built-in)>, 'matplotlib': <module 'matplotlib' from '/home/aletheia/.local/lib/python3.10/site-packages/matplotlib/__init__.py'>, 'l': 0      39.1
  1      39.5
  2      40.3
  3       NaN
  4      36.7
         ... 
  339     NaN
  340    46.8
  341    50.4
  342    45.2
  343    49.9
  Name: bill_length_mm, Length: 344, dtype: float64, 'd': 0      18.7
  1      17.4
  2      18.0
  3       NaN
  4      19.3
         ... 
  339     NaN
  340    14.3
  341    15.7
  342    14.8
  343    16.1
  Name: bill_depth_mm, Length: 344, dtype: float64, 'sns': <module 'seaborn' from '/home/aletheia/.local/lib/python3.10/site-packages/seaborn/__init__.py'>, 'ast': <module 'ast' from '/usr/lib/python3.10/ast.py'>, '__org_babel_python_tmpfile': <_io.TextIOWrapper name='/tmp/babel-Dl2Brz/python-Zd1RWc' mode='r' encoding='UTF-8'>, '__org_babel_python_ast': <ast.Module object at 0x79affe67d330>, '__org_babel_python_final': None, 'data_url': 'https://tinyurl.com/iris-data-csv', 's': 'virginica', 'sub':      sepal_length  sepal_width  petal_length  petal_width    species
  100           6.3          3.3           6.0          2.5  virginica
  101           5.8          2.7           5.1          1.9  virginica
  102           7.1          3.0           5.9          2.1  virginica
  103           6.3          2.9           5.6          1.8  virginica
  104           6.5          3.0           5.8          2.2  virginica
  105           7.6          3.0           6.6          2.1  virginica
  106           4.9          2.5           4.5          1.7  virginica
  107           7.3          2.9           6.3          1.8  virginica
  108           6.7          2.5           5.8          1.8  virginica
  109           7.2          3.6           6.1          2.5  virginica
  110           6.5          3.2           5.1          2.0  virginica
  111           6.4          2.7           5.3          1.9  virginica
  112           6.8          3.0           5.5          2.1  virginica
  113           5.7          2.5           5.0          2.0  virginica
  114           5.8          2.8           5.1          2.4  virginica
  115           6.4          3.2           5.3          2.3  virginica
  116           6.5          3.0           5.5          1.8  virginica
  117           7.7          3.8           6.7          2.2  virginica
  118           7.7          2.6           6.9          2.3  virginica
  119           6.0          2.2           5.0          1.5  virginica
  120           6.9          3.2           5.7          2.3  virginica
  121           5.6          2.8           4.9          2.0  virginica
  122           7.7          2.8           6.7          2.0  virginica
  123           6.3          2.7           4.9          1.8  virginica
  124           6.7          3.3           5.7          2.1  virginica
  125           7.2          3.2           6.0          1.8  virginica
  126           6.2          2.8           4.8          1.8  virginica
  127           6.1          3.0           4.9          1.8  virginica
  128           6.4          2.8           5.6          2.1  virginica
  129           7.2          3.0           5.8          1.6  virginica
  130           7.4          2.8           6.1          1.9  virginica
  131           7.9          3.8           6.4          2.0  virginica
  132           6.4          2.8           5.6          2.2  virginica
  133           6.3          2.8           5.1          1.5  virginica
  134           6.1          2.6           5.6          1.4  virginica
  135           7.7          3.0           6.1          2.3  virginica
  136           6.3          3.4           5.6          2.4  virginica
  137           6.4          3.1           5.5          1.8  virginica
  138           6.0          3.0           4.8          1.8  virginica
  139           6.9          3.1           5.4          2.1  virginica
  140           6.7          3.1           5.6          2.4  virginica
  141           6.9          3.1           5.1          2.3  virginica
  142           5.8          2.7           5.1          1.9  virginica
  143           6.8          3.2           5.9          2.3  virginica
  144           6.7          3.3           5.7          2.5  virginica
  145           6.7          3.0           5.2          2.3  virginica
  146           6.3          2.5           5.0          1.9  virginica
  147           6.5          3.0           5.2          2.0  virginica
  148           6.2          3.4           5.4          2.3  virginica
  149           5.9          3.0           5.1          1.8  virginica, 'pp':     species     island  bill_length_mm  ...  flipper_length_mm  body_mass_g     sex
  0    Adelie  Torgersen            39.1  ...              181.0       3750.0    MALE
  1    Adelie  Torgersen            39.5  ...              186.0       3800.0  FEMALE
  2    Adelie  Torgersen            40.3  ...              195.0       3250.0  FEMALE
  3    Adelie  Torgersen             NaN  ...                NaN          NaN     NaN
  4    Adelie  Torgersen            36.7  ...              193.0       3450.0  FEMALE
  ..      ...        ...             ...  ...                ...          ...     ...
  339  Gentoo     Biscoe             NaN  ...                NaN          NaN     NaN
  340  Gentoo     Biscoe            46.8  ...              215.0       4850.0  FEMALE
  341  Gentoo     Biscoe            50.4  ...              222.0       5750.0    MALE
  342  Gentoo     Biscoe            45.2  ...              212.0       5200.0  FEMALE
  343  Gentoo     Biscoe            49.9  ...              213.0       5400.0    MALE

  [344 rows x 7 columns], 'pp1':     species     island  bill_length_mm  ...  flipper_length_mm  body_mass_g     sex
  0    Adelie  Torgersen            39.1  ...              181.0       3750.0    MALE
  1    Adelie  Torgersen            39.5  ...              186.0       3800.0  FEMALE
  2    Adelie  Torgersen            40.3  ...              195.0       3250.0  FEMALE
  3    Adelie  Torgersen             NaN  ...                NaN          NaN     NaN
  4    Adelie  Torgersen            36.7  ...              193.0       3450.0  FEMALE
  ..      ...        ...             ...  ...                ...          ...     ...
  339  Gentoo     Biscoe             NaN  ...                NaN          NaN     NaN
  340  Gentoo     Biscoe            46.8  ...              215.0       4850.0  FEMALE
  341  Gentoo     Biscoe            50.4  ...              222.0       5750.0    MALE
  342  Gentoo     Biscoe            45.2  ...              212.0       5200.0  FEMALE
  343  Gentoo     Biscoe            49.9  ...              213.0       5400.0    MALE

  [344 rows x 7 columns], 'df':      sepal_length  sepal_width  petal_length  petal_width    species
  0             5.1          3.5           1.4          0.2     setosa
  1             4.9          3.0           1.4          0.2     setosa
  2             4.7          3.2           1.3          0.2     setosa
  3             4.6          3.1           1.5          0.2     setosa
  4             5.0          3.6           1.4          0.2     setosa
  ..            ...          ...           ...          ...        ...
  145           6.7          3.0           5.2          2.3  virginica
  146           6.3          2.5           5.0          1.9  virginica
  147           6.5          3.0           5.2          2.0  virginica
  148           6.2          3.4           5.4          2.3  virginica
  149           5.9          3.0           5.1          1.8  virginica

  [150 rows x 5 columns], 'os': <module 'os' from '/usr/lib/python3.10/os.py'>}
  #+end_example

- The final command performs the check:

  #+begin_src python :results output :exports both :session *Python* :python python3
    if 'df' in locals():
        print(df.head())
    else:
        print("DataFrame 'df' not found. Run previous cell to load it?")
  #+end_src

  #+RESULTS:
  :    sepal_length  sepal_width  petal_length  petal_width species
  : 0           5.1          3.5           1.4          0.2  setosa
  : 1           4.9          3.0           1.4          0.2  setosa
  : 2           4.7          3.2           1.3          0.2  setosa
  : 3           4.6          3.1           1.5          0.2  setosa
  : 4           5.0          3.6           1.4          0.2  setosa

- Another useful function is ~pandas.DataFrame.info~ - that's the
  equivalent of ~str~ in R.
  #+begin_src python :results output :exports both :session *Python* :python python3
    print(df.info())
  #+end_src

  #+RESULTS:
  #+begin_example
  <class 'pandas.core.frame.DataFrame'>
  RangeIndex: 150 entries, 0 to 149
  Data columns (total 5 columns):
   #   Column        Non-Null Count  Dtype  
  ---  ------        --------------  -----  
   0   sepal_length  150 non-null    float64
   1   sepal_width   150 non-null    float64
   2   petal_length  150 non-null    float64
   3   petal_width   150 non-null    float64
   4   species       150 non-null    object 
  dtypes: float64(4), object(1)
  memory usage: 6.0+ KB
  None
  #+end_example

- Here is a [[https://pandas.pydata.org/pandas-docs/stable/user_guide/dsintro.html][tutorial introduction]] to ~pandas~ data structures.

* Plotting with Python

- ~matplotlib~ is a low-level plotting library that can draw figures,
  axes, labels, lines etc.

- We're going to ~import~ a sub-library of ~matplotlib~, ~pyplot~, with the
  alias =plt=.

  To practice what you learnt earlier, check that =plt= is indeed loaded
  into the Python session namespace.

  #+begin_src python :results output :exports both :session *Python* :python python3
    import matplotlib.pyplot as plt
    print(any("matplotlib" in m for m in sys.modules))
  #+end_src

  #+RESULTS:
  : True

- What might have happened is that "no module named matplotlib" is
  found because the library was not installed. To install, use ~pip~ on
  the command line:
  #+begin_example
    pip install matplotlib
  #+end_example

* Create a simple plot with ~matplotlib.pyplot~

- The plotting is again very similar to R. Let's start with the
  simplest plot first:

  #+begin_src python :file iris.png :results file graphics output :exports both :session *Python* :python python3
    plt.scatter(x=df['sepal_length'],
                y=df['sepal_width'])
    plt.xlabel("Sepal Length (cm)")
    plt.ylabel("Sepal Width (cm)")
    plt.savefig("iris.png")
  #+end_src

  #+RESULTS:
  [[file:iris.png]]

- There is no grouping here, no colors by species, just a straight
  plot of all data in the length and width columns.

- Since Python functions can be "chained" (the equivalent of R's
  pipelining), you can write this much shorter with a ~pandas~ wrapper:

  #+begin_src python :file iris2.png :results file graphics output :exports both :session *Python* :python python3
    df.plot.scatter(x='sepal_length',y='sepal_width')
    plt.savefig("iris2.png")
  #+end_src

  #+RESULTS:
  [[file:iris2.png]]

- Now, this is almost as short and simple as using R's ~plot~.

- The ~Iris~ dataset is often used to demonstrate the abilities of
  machine learning models to cluster the three species. To show them,
  we need to subset the data (group them) by species and add the
  species information during the plotting. Python will then
  automatically assign different colors:

  #+begin_src python :file iris3.png :results file graphics output :exports both :session *Python* :python python3
    for s in df['species'].unique():  # use only non-duplicate records in the `species` column
        sub = df[df['species']==s]
        plt.scatter(x=sub['sepal_length'],
                    y=sub['sepal_width'],
                    label=s)
  #+end_src

  #+RESULTS:
  [[file:iris3.png]]

- When I first wrote this last code, I made an instructive
  mistake. This command does not work but aborts with a
  ~KeyError~. What's wrong?

  #+begin_example
    for s in df['species'].unique():
        sub = df[df['species'==s]]
        plt.scatter(x=sub['sepal_length'],
                    y=sub['sepal_width'],
                    label=s)
  #+end_example

- Answer:
  #+begin_quote
  =df[df[X]]= looks for a key to a column =X=. But there is no column name
  ='species'==s= - hence the ~KeyError~. You need to correct this to
  =df['species']==s= to get a key/column name to be compared with =s=.
  #+end_quote

- Subsetting rule to remember:
  #+begin_quote
  =df['col']= -> select a column
  =df['col'] ==== =value= -> Boolean Series (aka vector)
  =df[Boolean_series]= -> row filter (when Boolean is =True=)
  #+end_quote

* Create a fancy plot with ~seaborn~

- In the following code, =plt.figure=, labels, =plt.legend=, =plt.title= and
  =plt.grid= come from ~matplotlib~.

- =plt.figure= creates a new figure object, a blank canvas on which
  plots are drawn:
  1) Figure -> whole image, window, page
  2) Axes -> plotting area with x- and y-axes
  3) Plot -> lines, points, labels drawn on axes

- The ~seaborn~ library is built on top of ~matplotlib~ and allows
  automatic grouping of the data by the variable ~species~.
  #+begin_src python :results output :exports both :session *Python* :python python3 
    import seaborn as sns
    print('sns' in locals())
  #+end_src

  #+RESULTS:
  : True

- The result is as quick as R, and clearer than ggplot2:
  #+begin_src python :file iris4.png :results file graphics output :exports both :session *Python* :python python3
    sns.scatterplot(data=df,
                    x='sepal_length',
                    y='sepal_width',
                    hue='species',
                    palette='viridis')
  #+end_src

  #+RESULTS:
  [[file:iris4.png]]

  We can also introduce the safety check (is the dataset loaded) and
  exert more control over the plot by creating a ~figure~ first that
  ~seaborn~ then plots into - but it's not necessary.

  #+begin_src python :file iris5.png :results file graphics output :exports both :session *Python* :python python3
    if 'df' in locals():
        plt.figure(figsize=(8,6)) # 8-inch by 6-inch tall figure
        sns.scatterplot(data=df,  # use df
                        x='sepal_length',
                        y='sepal_width',
                        hue='species', # add 3rd variable as hue
                        palette='viridis') # a color palette
        ## customization
        plt.title('Sepal Length vs. Sepal Width of Iris Species')
        plt.xlabel('Sepal Length (cm)')
        plt.ylabel('Sepal Width (cm)')
        plt.grid(True, # show a grid
                 linestyle='--', # gridline style
                 alpha=0.6) # gridline transparency
    else:
        print("Dataframe 'df' not found. Please run previous cells.")
  #+end_src

  #+RESULTS:
  [[file:iris5.png]]

* Summary

| Command / Concept               | Definition                            |
|---------------------------------+---------------------------------------|
| =import pandas as pd=             | Load pandas library as alias pd       |
| =sys.modules=                     | Dict of all currently loaded  modules |
| =any("pandas" in m for m in ...)= | Test whether pandas is loaded         |
| =dir(pd)=                         | List names defined by pandas          |
| =pd.read_csv(url)=                | Read CSV data from URL into DataFrame |
| =try / except=                    | Handle runtime errors safely          |
| =Exception=                       | Base class for runtime errors         |
| =f"string {var}"=                 | Formatted string (f-string)           |
| =print(df)=                       | Display entire DataFrame =df=           |
| =df.head()=                       | Show first rows of DataFrame          |
| =locals()=                        | Dict of current local variables       |
| ='df' in locals()=                | Check if DataFrame exists             |
| =import matplotlib.pyplot as plt= | Load matplotlib plotting interface    |
| =plt.scatter(x,y)=                | Draw scatter plot                     |
| =plt.xlabel(), plt.ylabel()=      | Label plot axes                       |
| =plt.savefig(file)=               | Save plot to file                     |
| =plt.show()=                      | Save plot to screen display           |
| =df.plot.scatter(...)=            | pandas wraps matplotlib scatter       |
| =df['col']=                       | Select column (Series)                |
| =df['col'] == value=               | Boolean mask for rows                 |
| =df[mask]=                        | Filter rows using Boolean mask        |
| =plt.figure(figsize=(w,h))=       | Create new figure of given size       |
| =figsize=                         | Physical plot size, not data scaling  |
| =plt.grid(alpha=x)=               | Add grid with transparency            |
| =alpha=                           | Transparency (0=clear, 1=opaque)      |
| =plt.legend()=                    | Show legend for labeled plot elements |
| =import seaborn as sns=           | Load seaborn plotting library         |
| =sns.scatterplot(...)=            | Scatter plot with automatic grouping  |
| =hue=='var'                       | Group data by categorical variable    |
+--------------------------------+-------------------------------------------------+

* Programming Assignment (Home)

Test your understanding of "Getting started with Colab (and Python)"
by creating a notebook for the Palmer Penguin dataset available for
you online from: [[https://tinyurl.com/palmer-data-csv][tinyurl.com/palmer-data-csv]].

Tasks:
1) Create a new Colab notebook.
2) Load the dataset into a dataframe.
3) Check if the dataset is loaded in the current namespace.
4) Display the first few lines of the dataset.
5) Make a simple plot of the =bill_length_mm= vs. =bill_depth_mm=.
6) Make a fully customized plot of the dataset grouping by =species=.
7) Upload the URL to your [shared] notebook to Canvas.
